subfile use test.mainSub;

import test.Sub;
Sub.func();
let hoge = new Sub.Hoge();
let ifObj:Sub.IF = hoge;
hoge.func( .Val1 );
ifObj.func( Sub.Foo.Val1 );
Sub.Hoge.sub( .Val2 );
let hogehoge = new Sub.HogeHoge();
hogehoge.func( .Val2 );

macro _Macro() {
   Sub.func();
}
_Macro();
print( Sub.Val );
print( hoge.$val );
{
   let mut hoge2 = new Sub.Hoge();
   hoge2.set_val( 0 );
}
{
   macro _Macro2() {
      {
         let stmt = `{ Sub.func(); };
      }
      ,,stmt;
   }
   _Macro2();
}
{
   let mut sub:Sub.Sub = new Sub.SubSub( 1 );
   sub.set_val( sub.$val );
}
{
   Sub._Hoge();
   Sub._Hoge2( `{print("hoge");} );
}
